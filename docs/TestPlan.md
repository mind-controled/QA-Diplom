# План автоматизации тестирования
---
## Перечень автоматизируемых сценариев:
### Позитивные сценарии:
1. Пользователь вводит валидные данные, выбирая оплату по дебетовой карте, операция проходит без отказа;
1. Пользователь вводит валидные данные, выбирая покупку с использованием кредита, операция проходит без отказа;
1. Пользователь вводит валидные данные, выбирает оплату по дебетовой карте, на карте при этом недостаточно средств для выполнения операции - происходит отказ в операции(по условиям для этого и следующего сценария дан номер карты по которому операция будет отклонена);
1. Пользователь вводит валидные данные, выбирая оплату по кредитной карте - происходит отказ в выполнении операции;
### Негативные сценарии:
1. Пользователь выбирает покупку с оплатой по дебетовой карте, заполняет невалидными данными поля;
1. Пользователь выбирает покупку с оплатой с помощью кредитной карты, заполняет невалидными данными поля;

*В рамках перечисленных негативных сценариев проверяем, что:*
- появляются подсказки о том, что поле неверно заполнено;
- приложение не передает форму с невалидными данными в платежный сервис, соответственно, платеж не проходит;
- отдельно проверим каждое поле, заполнив его данными в неверном формате
- 2 варианта неполного номера карты - 15 знаков и 1 знак;
- неверный формат номера месяца;
- неверный формат года;
- неверный cvc код;
- ввод цифр в поле имя пользователя;
- ввод пустого поля имя пользователя;

## Инструменты для тестирования:
1. JUnit 5 - мощный и удобный фреймворк для автотестов
1. Selenide - так как работаем с веб-страницей и ищем появившиеся значения с помощью html и css, создание Page Objects, заполнение формы через веб-интерфейс
1. Faker - генерация недостающих данных для тестирования
1. RestAssured - отправка запросов симулятору банковских сервисов, проверка того, что он принимает запросы и генерирует ответы, хорошо подходит для проверки структуры ответов
1. Docker - для развертывания и запуска приложения в контейнере. Можно одновременно запускать на одном компьютере несколько контейнеров, при этом будет потребляться меньше ресурсов, чем для виртуализации. Удобно настраивать контейнеры через Dockerfile, по которому другие члены команды могут запустить точно такой же контейнер
1. GitHub - для хранения проекта. Позволяет откатиться назад, если вдруг после очередных изменений что-то пошло не так и не удается исправить; код легко скачать и запустить, код доступен для совместного использования и разработки, имеется система CI
1. Allure - используем для наглядного изображения прохождения тестов и ошибок

## Возможные риски:
1. Техническая сложность настройки окружения. Для работы приложения нужно , помимо двух разных баз данных (MySQL, PostgreSQL), развернуть симулятор платежной системы, написанный на другом языке. Нужно разобраться с тем как он работает, как взаимодействует с нашими БД и ОС. Возможны проблемы при настройки CI (если потребуется). Поэтому в ходе настройки окружения могут возникнуть сложности, требующие дополнительных временных затрат
1. Комплексный характер тестирования. Ранее мы тестировали, в основном, какие-то определенные функциональности, в данном случае нужно протестировать приложение комплексно, к тому же оно насыщено багами. Потребуется больше времени на дополнительные проверки и оформление баг-репортов
1. Большая сложность приложения. Могут возникнуть сложности с поиском элементов на странице (неуникальные идентификаторы)

## Интервальная оценка с учётом рисков:
- Настройка с учетом рисков - 3 суток
- Разработка - 3 суток
- Отчеты - 1 день

## План сдачи работ:
- *Готовность авто-тестов - через 3-4 суток после утверждения плана*
- *Результаты тестов - через сутки после прогона авто-тестов. Отчет по автоматизации - через 2-3 дня после результатов прогона*